# Calorigram - Телеграм бот для подсчета калорий

## Описание
Telegram бот для регистрации пользователей и расчета суточной нормы калорий.

## Установка и запуск

### Локальная установка

#### 1. Установка зависимостей
```bash
pip install -r requirements.txt
```

#### 2. Настройка конфигурации
Скопируйте файл `env.example` в `.env` и заполните необходимые переменные:
```bash
cp env.example .env
```

Отредактируйте `.env` файл:
```
BOT_TOKEN=your_telegram_bot_token_here
NEBIUS_API_KEY=your_nebius_api_key_here
```

#### 3. Запуск бота
```bash
python main.py
```

### Деплой на Railway

#### 1. Подготовка к деплою
Проект уже настроен для деплоя на Railway. Все необходимые файлы созданы:
- `Procfile` - конфигурация для Railway
- `railway.json` - дополнительные настройки Railway
- `requirements.txt` - зависимости Python
- `config.py` - настроен для работы с переменными окружения

#### 2. Деплой на Railway
1. Зайдите на [Railway.app](https://railway.app)
2. Создайте новый проект
3. Подключите ваш GitHub репозиторий или загрузите код
4. В настройках проекта добавьте переменные окружения:
   - `BOT_TOKEN` - токен вашего Telegram бота
   - `NEBIUS_API_KEY` - API ключ Nebius
5. Railway автоматически определит Python проект и установит зависимости
6. Бот будет запущен автоматически

#### 3. Переменные окружения для Railway
В панели Railway добавьте следующие переменные:
- `BOT_TOKEN` - токен от @BotFather
- `NEBIUS_API_KEY` - API ключ для Nebius AI

## Структура проекта

- `main.py` - Основной файл для запуска бота
- `bot_functions.py` - Функции и обработчики команд бота
- `database.py` - Работа с базой данных SQLite
- `config.py` - Конфигурация (токены, API ключи)
- `requirements.txt` - Зависимости проекта
- `users.db` - База данных SQLite (создается автоматически)

## База данных

Таблица `users` содержит следующие поля:
- `id` - Уникальный идентификатор записи
- `telegram_id` - ID пользователя в Telegram
- `name` - Имя пользователя
- `age` - Возраст
- `height` - Рост (см)
- `weight` - Вес (кг)
- `activity_level` - Уровень активности
- `daily_calories` - Суточная норма калорий
- `created_at` - Дата создания записи

## Команды бота

- `/start` - Начать работу с ботом
- `/register` - Регистрация в системе
- `/profile` - Посмотреть профиль
- `/help` - Справка по командам

## Уровни активности

1. **Минимальная** - Сидячий образ жизни, минимальные физические нагрузки
2. **Легкая** - Легкие упражнения 1-3 раза в неделю
3. **Умеренная** - Умеренные упражнения 3-5 раз в неделю
4. **Высокая** - Интенсивные упражнения 6-7 раз в неделю
5. **Очень высокая** - Очень интенсивные упражнения, физическая работа

## Получение токена бота

1. Найдите @BotFather в Telegram
2. Отправьте команду `/newbot`
3. Следуйте инструкциям для создания бота
4. Скопируйте полученный токен в файл `config.py`
